(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(29)},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),o=a.n(l),i=a(4),c=a(1),s=a(18),u="LOADING",m="LOAD_MOVIES_SUCCESS",d="OPEN_MODAL",p={loadingStatus:!1,movies:[],modalData:{}},h=a(19),v=Object(c.c)({users:function(){return[{id:1,first:"Jat",last:"Singh",age:84,description:"Jat is react angular developer and youtuber",thumbnail:"//i.imgur.com/n50fSWR.png"},{id:2,first:"Ravinder",last:"Kumar",age:34,description:"Ravinder developer and youtuber",thumbnail:"//i.imgur.com/n50fSWR.png"},{id:3,first:"Patwinder",last:"Singh",age:44,description:"Patwinder is java developer and youtuber",thumbnail:"//i.imgur.com/n50fSWR.png"}]},activeUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SELECTED":return t.payload}return e},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.movies,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.movies;case"DELETE_MOVIE":var a=e.length?Object(h.a)(e):[],n=a.findIndex(function(e){return e.Title===t.payload.Title});return a.splice(n,1),a;default:return e}},loadingStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.loadingStatus,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.status;default:return e}},modalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.modalData,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.modalData;default:return e}}}),f=a(2),b=a(3),E=a(6),g=a(5),O=a(7),j=function(e){return console.log("You clicked on user: ",e.first),{type:"USER_SELECTED",payload:e}},y=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"createListItems",value:function(){var e=this;return this.props.users.map(function(t,a){return r.a.createElement("li",{key:t.id},r.a.createElement("a",{href:"#",onClick:function(a){a.preventDefault(),e.props.selectUser(t)}},t.first)," ",t.last)})}},{key:"render",value:function(){return r.a.createElement("ul",null,this.createListItems())}}]),t}(n.Component);var S=Object(i.b)(function(e){return{users:e.users}},function(e){return Object(c.b)({selectUser:j},e)})(y),k=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement("div",null,r.a.createElement("img",{src:this.props.user.thumbnail,height:"180px",alt:"thumb"}),r.a.createElement("h3",null,this.props.user.first," ",this.props.user.last),r.a.createElement("h3",null,this.props.user.age),r.a.createElement("p",null,this.props.user.description)):r.a.createElement("h5",null,"Select a user...")}}]),t}(n.Component);var w=Object(i.b)(function(e){return{user:e.activeUser}})(k),D=a(8);function M(e){return{type:u,status:e}}var C=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("em",null,this.props.message))}}]),t}(n.Component);var N=Object(i.b)(function(e){return{loadingStatus:e.loadingStatus}},function(e){return Object(c.b)({loading:M},e)})(C),L=function(){function e(){Object(f.a)(this,e)}return Object(b.a)(e,null,[{key:"getMoviesBySearch",value:function(e){if(e)return fetch("http://www.omdbapi.com/?s=".concat(e,"&apikey=").concat("e0432997")).then(function(e){return e.json()}).then(function(e){return e.Search?e.Search:["no data in response"]}).catch(function(e){return new Error(e)})}}]),e}();function x(){return function(e){return e(M(!0)),L.getMoviesBySearch("love").then(function(t){e(function(e){return{type:m,movies:e}}(t)),e(M(!1))}).catch(function(e){throw e})}}var T=function(e){return function(t){return t(function(e){if(Object.keys(e).length)return document.querySelector(".modal-wrapper").classList.add("expand"),{type:d,modalData:e}}(e)),{type:"MOVIE_SELECTED",payload:e}}},U=function(e){return console.log("Your have deleted following movie : ".concat(e.Title)),{type:"DELETE_MOVIE",payload:e}},I=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(E.a)(this,Object(g.a)(t).call(this,e))).state={isLoading:!1},a.deleteMovie=a.deleteMovie.bind(Object(D.a)(Object(D.a)(a))),a.reloadAction=a.reloadAction.bind(Object(D.a)(Object(D.a)(a))),a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){}},{key:"reloadAction",value:function(){this.props.loadMovies()}},{key:"deleteMovie",value:function(e){this.props.deleteMovie(e)}},{key:"createMovieList",value:function(){var e=this;return this.props.movies.length?this.props.movies.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{href:"#",onClick:function(a){a.preventDefault(),e.props.selectMovie(t)}},r.a.createElement("img",{src:t.Poster,alt:"movie-thumb",height:"100px",className:"float-left"}),"".concat(t.Title," ").concat(t.Year)),r.a.createElement("a",{href:"#",onClick:function(a){a.preventDefault(),e.deleteMovie(t)},className:"float-right text-danger"},"X"))}):r.a.createElement("p",{className:"text-center"},r.a.createElement("strong",null,"No more records!!"),r.a.createElement("a",{href:"#",onClick:this.reloadAction}," ",r.a.createElement("br",null),r.a.createElement("br",null),"Reload?"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"movie-list-container"},r.a.createElement(function(t){return t.loading?r.a.createElement(N,{message:"Please wait.. we are fetching data"}):r.a.createElement("div",null,r.a.createElement("h2",null,"List of Movies"),r.a.createElement("ul",null,e.createMovieList()))},{loading:this.props.loadingStatus}))}}]),t}(n.Component);var R=Object(i.b)(function(e){return{movies:e.movies,loadingStatus:e.loadingStatus}},function(e){return Object(c.b)({selectMovie:T,deleteMovie:U,loadMovies:x},e)})(I),P=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(E.a)(this,Object(g.a)(t).call(this,e))).modalClose=a.modalClose.bind(Object(D.a)(Object(D.a)(a))),a}return Object(O.a)(t,e),Object(b.a)(t,[{key:"modalClose",value:function(e){e.preventDefault(),console.log("close fired"),document.querySelector(".modal-wrapper").classList.remove("expand")}},{key:"render",value:function(){var e=this.props.modalData?this.props.modalData:{Title:"",Poster:"",Year:""};return r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-header hide"},r.a.createElement("h3",null,"Movie detail")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("h4",null,e.Title),r.a.createElement("strong",null,"Year: ",e.Year),r.a.createElement("p",{className:"text-center"},r.a.createElement("img",{src:e.Poster,alt:"thumb",height:"190px"}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{name:"okModalBtn",className:"modal-ok",onClick:this.modalClose},"Close")))}}]),t}(n.Component);var _=Object(i.b)(function(e){return{modalData:e.modalData}})(P),A=function(){return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"users-container hide"},r.a.createElement("h2",null,"Username List;"),r.a.createElement(S,null),r.a.createElement("hr",null),r.a.createElement("h2",null,"User Details: "),r.a.createElement(w,null)),r.a.createElement("div",{className:"movies-container"},r.a.createElement(R,null)),r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement(_,null)))},Y=Object(c.d)(v,Object(c.a)(s.a));Y.dispatch(x()),o.a.render(r.a.createElement(i.a,{store:Y},r.a.createElement(A,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.0396f44d.chunk.js.map